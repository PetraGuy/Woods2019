setwd("C:/dev/code/Woods2019/code")
woods = read.csv("../data/woodprops.csv", stringsAsFactors = TRUE, header = TRUE)
View(woods)
View(woods)
woods_soil = woods[4:9]
View(woods_soil)
library(factoextra)
library(FactoMineR)
woods_soilPCA = PCA(woods_soil,graph = FALSE)
View(woods_soil)
woods_soilPCA = PCA(woods_soil[-1],graph = FALSE)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
addEllipses = TRUE, # Concentration ellipses
legend.title = "Groups"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
addEllipses = TRUE, # Concentration ellipses
legend.title = "Groups"
)
View(woods_soilPCA)
eig.val = get_eigenvalue(woods_soilPCA)
eig.val
fviz_eig(woods_soilPCA, addlabels = TRUE, ylim = c(0, 50))
fviz_pca_var(woods_soilPCA, col.var = "black")
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#00AFBB", "#E7B800", "#FC4E07"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "Groups"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "Groups"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = TRUE, # Concentration ellipses
legend.title = "Groups"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "Groups"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "sOIL TYPE"
)
View(woods_soil)
fviz_pca_ind(woods_soilPCA, pointsize = "cos2",
pointshape = 21, fill = "#E7B800",
repel = TRUE # Avoid text overlapping (slow if many points)
)
ind = get_pca_ind(woods_soilPCA)
ind
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE # Avoid text overlapping (slow if many points)
)
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
pointsize = "cos2"
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE # Avoid text overlapping (slow if many points)
)
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
pointsize = "cos2",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE # Avoid text overlapping (slow if many points)
)
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
pointsize = "cos2",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE # Avoid text overlapping (slow if many points)
col.ind = woods_soil$type, # color by groups
)
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
pointsize = "cos2",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE, # Avoid text overlapping (slow if many points)
col.ind = woods_soil$type, # color by groups
)
fviz_pca_ind(woods_soilPCA,
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE, # Avoid text overlapping (slow if many points)
col.ind = woods_soil$type, # color by groups
)
fviz_pca_ind(woods_soilPCA,
gradient.cols = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
repel = TRUE, # Avoid text overlapping (slow if many points)
col.ind = woods_soil$type, # color by groups
)
fviz_pca_ind(woods_soilPCA, col.ind = "cos2",
pointsize = "cos2",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07"),
repel = TRUE # Avoid text overlapping (slow if many points)
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "point", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "sOIL TYPE"
)
View(woods)
fviz_pca_ind(woods_soilPCA,
geom.ind = "text", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("#CC0000", "#006600", "#669999", "#00CCCC",
"#660099", "#CC0066"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "SOIL TYPE"
)
fviz_pca_ind(woods_soilPCA,
geom.ind = "text", # show points only (nbut not "text")
col.ind = woods_soil$type, # color by groups
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
addEllipses = FALSE, # Concentration ellipses
legend.title = "SOIL TYPE"
)
View(woods)
# Color variables by groups
fviz_pca_var(woods_soilPCA, col.var = grp,
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
legend.title = "Cluster")
soil.km <- kmeans(woods_soil$type, centers = 6, nstart = 25)
grp <- as.factor(soil.km$cluster)
soil.km <- kmeans(woods_soil$type, centers = 6, nstart = 25)
grp = woods_soil$type
# Color variables by groups
fviz_pca_var(woods_soilPCA, col.var = grp,
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
legend.title = "Cluster")
fviz_contrib(woods_soilPCA, choice = "var", axes = 1:2, top = 10)
fviz_pca_var(woods_soilPCA, col.var = "contrib",
gradient.cols = c("#00AFBB", "#E7B800", "#FC4E07")
)
fviz_pca_biplot(woods_soilPCA, repel = TRUE,
col.var = "contrib", # Variables color
col.ind = "#696969"  # Individuals color
)
fviz_pca_biplot(woods_soilPCA, repel = TRUE,
col.var = "contrib", # Variables color
col.ind =  woods_soil$type  # Individuals color
)
fviz_pca_biplot(iris.pca,
col.ind = woods_soil$type, palette = "jco",
addEllipses = TRUE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type, palette = "jco",
addEllipses = TRUE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type, palette = "jco",
addEllipses = FALSE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type,
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
addEllipses = FALSE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type,
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
addEllipses = FALSE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type",
geom.ind = "text")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type,
palette = c("red", "green", "yellow", "blue",
"black", "orange"),
addEllipses = FALSE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "soil type")
fviz_pca_biplot(woods_soilPCA, repel = TRUE,
col.var = "#2E9FDF", # Variables color
col.ind = "#696969"  # Individuals color
)
woods_soil$type
fviz_pca_biplot(woods_soilPCA,
# Fill individuals by groups
geom.ind = "point",
pointshape = 21,
pointsize = 2.5,
fill.ind = woods_soil$type,
col.ind = "black",
# Color variable by groups
col.var = factor(c("podzol", "cambisol", "stagnosol", "umbrisol","histosol","luvisol")),
legend.title = list(fill = "type", color = "Clusters"),
repel = TRUE        # Avoid label overplotting
)+
ggpubr::fill_palette("jco")+      # Indiviual fill color
ggpubr::color_palette("npg")
ind.p <- fviz_pca_ind(woods_soilPCA, geom = "point", col.ind = woods_soil$type)
ggpubr::ggpar(ind.p,
title = "Principal Component Analysis",
subtitle = "Biogeography of Woodlands",
caption = "Source: factoextra",
xlab = "PC1", ylab = "PC2",
legend.title = "soil type", legend.position = "top",
ggtheme = theme_gray(), palette = "jco"
fviz_pca_biplot(woods_soilPCA,
# Fill individuals by groups
geom.ind = "point",
pointshape = 21,
pointsize = 2.5,
fill.ind = woods_soil$type,
col.ind = "black",
# Color variable by groups
col.var = factor(c("podzol", "cambisol", "stagnosol",
"umbrisol","histosol","luvisol")),
legend.title = list(fill = "type", color = "Clusters"),
repel = TRUE        # Avoid label overplotting
)+
ggpubr::fill_palette("jco")+      # Indiviual fill color
ggpubr::color_palette("npg")
fviz_pca_biplot(woods_soilPCA,
# Fill individuals by groups
geom.ind = "point",
pointshape = 21,
pointsize = 2.5,
fill.ind = woods_soil$type,
col.ind = "black",
# Color variable by groups
col.var = factor(c("podzol", "cambisol", "stagnosol",
"umbrisol","histosol","luvisol")),
legend.title = list(fill = "type", color = "Clusters"),
repel = TRUE        # Avoid label overplotting
)+
ggpubr::fill_palette("jco")+      # Indiviual fill color
ggpubr::color_palette("npg")
fviz_pca_biplot(woods_soilPCA,
col.ind = woods_soil$type, palette = "jco",
addEllipses = FALSE, label = "var",
col.var = "black", repel = TRUE,
legend.title = "SOIL TYPE")
